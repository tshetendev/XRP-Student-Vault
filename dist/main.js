(()=>{function e(e){return/^r[1-9A-HJ-NP-Za-km-z]{25,34}$/.test(e)}window.onload=function(){const t=function(){const t=localStorage.getItem("rippleAddress");if(t&&e(t))return t;let r;do{r=prompt("Please enter your Ripple address:"),e(r)||alert("Invalid Ripple address. Please enter a valid address.")}while(!e(r));var d;return d=r,localStorage.setItem("rippleAddress",d),r}();console.log("Ripple Address:",t)},async function(){try{const e=await fetch("http://localhost:3000/history"),t=await e.json(),r=document.getElementById("historyContainer");if(r.innerHTML="<h2>Grade Record History</h2>",0===t.length)r.innerHTML+="<p>No records available.</p>";else{const e=document.createElement("table");e.border="1";const d=["Record ID","Ripple Address","Student ID","Name","Year","Course","Grade"],n=document.createElement("tr");d.forEach((e=>{const t=document.createElement("th");t.appendChild(document.createTextNode(e)),n.appendChild(t)})),e.appendChild(n),t.forEach((t=>{const r=document.createElement("tr");[t.recordId,t.rippleAddress,t.studentId,t.name,t.year,t.course,t.grade].forEach((e=>{const t=document.createElement("td");t.appendChild(document.createTextNode(e)),r.appendChild(t)})),e.appendChild(r)})),r.appendChild(e)}}catch(e){console.error("Error fetching record history:",e)}}()})();